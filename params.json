{"name":"Myblog","tagline":"centos6.2升级内核","body":"一、查看当前内核版本 \r\nuname -a #查看当前内核版本 \r\n2.6.32-220.13.1.el6.x86_64 #1 SMP Tue Apr 17 23:56:34 BST 2012 x86_64 x86_64 x86_64 GNU/Linux \r\n \r\n二、下载待安装的kernel并解压 \r\nwget http://www.kernel.org/pub/linux/kernel/v3.0/linux-3.6.8.tar.bz2 \r\ntar -jxf linux-3.6.8.tar.bz2 \r\nmv linux-3.6.8.tar.bz2 /usr/src/kernels/ \r\ncd /usr/src/kernels/linux-3.6.8.tar.bz2/ \r\n \r\n \r\n三、安装编译内核所需的工具 \r\nyum install ncurses-devel \r\nyum -y install gcc automake autoconf libtool make \r\n \r\n四、内核编译安装过程 \r\n#make mrproper #首次编译可以省略该步，如果之前在此目录编译过，该命令可以删除之前编译所生成的文件和配置文件，备份文件 \r\ncp /boot/config-2.6.32-220.13.1.el6.x86_64 /usr/src/kernels/linux-3.6.8/.config #在当前内核参数的基础上来，选择我们想要增删的参数进行编译，这点很重要，否则可能有各种奇怪的问题 \r\nmake menuconfig #在菜单模式下选择需要编译的内核模块，可以参考内核编译配置选项：http://lamp.linux.gov.cn/Linux/kernel_options.html   \r\n \r\n \r\nmake bzImage #生成内核文件(漫长等待，我用了20分钟) \r\n \r\n \r\nmake modules #编译模块(非常慢，耐心等待) \r\n \r\n \r\nmake modules_install #安装模块 \r\n \r\n \r\nmake install #安装 \r\n \r\n \r\n \r\n \r\n五、设置从新内核启动 \r\nvi /boot/grub/grub.conf \r\n将 default=1 改为 default=0 \r\n \r\n \r\n \r\n六、重启系统并查看内核版本 \r\nshutdown –f -r now \r\n正常登录后，查看内核版本 \r\nuname –r \r\n \r\n \r\nOK，内核升级成功。","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}